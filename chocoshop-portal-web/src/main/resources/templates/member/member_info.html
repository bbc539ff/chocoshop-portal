<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

   <head>
      <meta charset="UTF-8">
      <title></title>
      <link href="/css/bootstrap.min.css" rel="stylesheet">
      <script src="/js/jquery.min.js"></script>
      <script src="/js/popper.min.js"></script>
      <script src="/js/bootstrap.min.js"></script>
      <script src="/js/js.cookie-2.2.1.min.js"></script>
      <script src="/js/chocoUtils.js"></script>

   </head>

   <body>
      <div id="navbar"></div>
      <script>
         $("#navbar").load("/navbar")
      </script>

      <div class="container">
         <div class="row" style="margin-top: 100px;">
            <div class="col-md-3" style="padding-right: 20px;">
               <nav class="navbar bg-light">
                  <ul class="navbar-nav">
                     <li class="nav-item">
                        <img class="img-responsive rounded-circle" style="width: 50px;height: 50px;" th:src="@{'/upload/member/member_image/'+${member.memberUuid}+'.jpeg'}" />
                        <span style="margin-left: 10px;" th:text="${member.memberUserName}"></span>
                        <hr />
                     </li>
                     <li class="nav-item">
                        <a class="nav-link" href="/cart/info">购物车</a>
                     </li>
                     <li class="nav-item">
                        <a class="nav-link" href="/order/info">订单信息</a>
                     </li>
                     <li class="nav-item">
                        <a class="nav-link" href="#">待付款</a>
                     </li>
                     <li class="nav-item">
                        <a class="nav-link" href="#">待收货</a>
                     </li>
                     <li class="nav-item">
                        <a class="nav-link" href="#">待发货</a>
                     </li>
                  </ul>
               </nav>
            </div>

            <div class="col-md-9">

               <form action="/member/edit" method="post">
                  <table class="table table-striped">
                     <tbody>
                        <tr>
                           <th>UUID</th>
                           <td th:text="${member.memberUuid}"></td>
                           <td>
                              <input type="text" name="memberUuid" th:value="${member.memberUuid}" style="display: none;" />
                           </td>
                        </tr>
                        <tr>
                           <th>用户名</th>
                           <td th:text="${member.memberUserName}"></td>
                           <td>
                              <a id="memberUserName" href="javascript:void(0)" onclick="edit(this)">编辑</a>
                           </td>
                        </tr>
                        <tr>
                           <th>手机号码</th>
                           <td th:text="${member.memberPhone}"></td>
                           <td>
                              <a id="memberPhone" href="javascript:void(0)" onclick="edit(this)">编辑</a>
                           </td>
                        </tr>
                        <tr>
                           <th>电子邮箱</th>
                           <td th:text="${member.memberEmail}"></td>
                           <td>
                              <a id="memberEmail" href="javascript:void(0)" onclick="edit(this)">编辑</a>
                           </td>
                        </tr>
                        <tr>
                           <th>注册时间</th>
                           <td th:text="${member.memberCreateTime}"></td>
                           <td></td>
                        </tr>
                        <tr>
                           <th>性别</th>
                           <td th:if="${member.memberGender == true}" value="true">男</td>
                           <td th:if="${member.memberGender == false}" value="false">女</td>
                           <td>
                              <a id="memberGender" href="javascript:void(0)" onclick="radio(this)">编辑</a>
                           </td>
                        </tr>
                        <tr>
                           <th>收货地址</th>
                           <td th:text="${member.memberAddress}"></td>
                           <td>
                              <a id="memberAddress" href="javascript:void(0)" onclick="edit(this)">编辑</a>
                           </td>
                        </tr>
                     </tbody>
                  </table>
                  <button class="btn btn-outline-primary">修改</button>
               </form>

            </div>
         </div>
      </div>
      
      <footer id="footer"></footer>
      <script>
         $("#footer").load("/footer")
      </script>

      <script>
         function edit(obj) {
            console.log(obj)
            $(obj).parent().html('<input type="text" name="' + obj.id + '" />')
         }

         function radio(obj) {
            $(obj).parent().html('<input type="radio" name="memberGender" value="0"><span>女</span>' +
               '<input type="radio" name="memberGender" value="1"><span>男</span>')

         }
      </script>

      <script th:inline="javascript">
         document.title = /*[[${member.memberUserName}+' - 巧克力专营']]*/
      </script>
   </body>

</html>